{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
<script src="https://code.jquery.com/jquery-1.10.2.js"></script>


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Movie Choice</title>
    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}"/>
    <link rel="stylesheet" type="text/css" href="{% static '/css/bootstrap.min.css' %}"/>
    <link rel="stylesheet" type="text/css" href="{% static '/css/style.css' %}"/>

    <script src="{% static '/js/bootstrap.min.js' %}"></script>
    <script src="{% static '/js/jquery-1.10.2.js' %}"></script>
</head>

<body>
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-4" style="text-align: center">Movie Choice</h1>
        </div>
    </div>

    <nav class="navbar navbar-light justify-content-center" style="background-color:#E3F2FD">
        <ul class="nav">
            <li class="nav-item">
                <a class="nav-link" href="#">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="./pages/syllabus.html">Syllabus</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="./pages/assignments.html">Assignments</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="./pages/notes.html">Notes</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Other Stuff</a>
            </li>
        </ul>
    </nav>

    <div class="container" style="padding-left:10%">
       
        <h1>Test Page</h1>
        <button id="btn">Click Me</button>
        <button id="btn2">Button To test Json</button>
        <button id="btn-for-ids">Get Movie Ids</button>
        <button id="get-recommendations">Get Recommendations</button>
        <div id="output"></div>
   
         
    </div>

    <script>
        var testVariable = " hello, I'm a test";

        $("#btn").click(function () {
            $("#output").html("Button Was Clicked!");
            $.get("/movieRecommender/getMovieIds", {
                    name: "John",
                    time: "2pm"
                })
                .done(function (data) {
                    alert("Data Loaded: " + data + testVariable);
                });
        });

        $("#btn2").click(function () {
            $("#output").html("Button to test JSON Was Clicked!");
            var x = { movies : [] };
            x["movies"][0] = { movieId : 1, rating : 4};
            x["movies"][1] = { movieId : 2, rating : 2.5};
            console.log(JSON.stringify(x));

            $.get("/movieRecommender/testJson", { 
                JSON : JSON.stringify(x),
                })
                .done(function (data) {
                    parsedData = JSON.parse(data);
                    alert("Data Loaded: " + parsedData[0]);
                });
        });

        $("#btn-for-ids").click(function () {
            $.get("/movieRecommender/getMovieIds")
                .done(function (data) {
                    movieIds = JSON.parse(data);
                    $("#output").html(data);
                });
        });

        $("#get-recommendations").click(function () {
            var userData = [];
            userData[0] = [1,2];
            userData[1] = [2,3];
            userData[2] = [3,2];
            userData[3] = [4,4.5];
            userData[4] = [5,2];
            userData[5] = [6,3];
            userData[6] = [7,2];
            userData[7] = [8,4.5];
            userData[8] = [9,3];
            userData[9] = [10,2];

            $.get("/movieRecommender/getRecommendations", { 
                JSON : JSON.stringify(userData),
                })
                .done(function (data) {
                    recommendations = JSON.parse(data);
                    $("#output").html(recommendations);
                });
        });
    </script>
</body>

</html>